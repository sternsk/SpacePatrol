import { ToneAudioNode, } from "../../core/context/ToneAudioNode.js";
import { optionsFromArguments } from "../../core/util/Defaults.js";
import { Analyser } from "./Analyser.js";
/**
 * The base class for Metering classes.
 */
export class MeterBase extends ToneAudioNode {
    name = "MeterBase";
    /**
     * The signal to be analysed
     */
    input;
    /**
     * The output is just a pass through of the input
     */
    output;
    /**
     * The analyser node for the incoming signal
     */
    _analyser;
    constructor() {
        super(optionsFromArguments(MeterBase.getDefaults(), arguments));
        this.input =
            this.output =
                this._analyser =
                    new Analyser({
                        context: this.context,
                        size: 256,
                        type: "waveform",
                    });
    }
    dispose() {
        super.dispose();
        this._analyser.dispose();
        return this;
    }
}
